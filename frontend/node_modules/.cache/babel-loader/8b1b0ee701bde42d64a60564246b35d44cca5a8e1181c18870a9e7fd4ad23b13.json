{"ast":null,"code":"var _jsxFileName = \"/Users/kei/AIdeator-LLM/frontend/src/components/MindMap.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport './MindMap.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MindMap = ({\n  centralQuestion,\n  concepts\n}) => {\n  _s();\n  const [positions, setPositions] = useState({});\n  const [draggedConcept, setDraggedConcept] = useState(null);\n  const [dragOffset, setDragOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [activeNodes, setActiveNodes] = useState(concepts.map((_, i) => true));\n  const mapRef = useRef(null);\n\n  // Initialize positions to match the reference image layout\n  useEffect(() => {\n    if (Object.keys(positions).length === 0) {\n      const initialPositions = {\n        'concept-0': {\n          x: 0,\n          y: -150\n        },\n        // Top\n        'concept-1': {\n          x: -300,\n          y: 0\n        },\n        // Left\n        'concept-2': {\n          x: 300,\n          y: 0\n        },\n        // Right\n        'concept-3': {\n          x: -200,\n          y: 200\n        },\n        // Bottom Left\n        'concept-4': {\n          x: 200,\n          y: 200\n        } // Bottom Right\n      };\n      setPositions(initialPositions);\n    }\n  }, [positions]);\n\n  // Handle starting to drag a concept\n  const handleMouseDown = (e, conceptId) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const rect = e.currentTarget.getBoundingClientRect();\n    const mapRect = mapRef.current.getBoundingClientRect();\n    setDraggedConcept(conceptId);\n    setDragOffset({\n      x: e.clientX - (rect.left - mapRect.left),\n      y: e.clientY - (rect.top - mapRect.top)\n    });\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n\n  // Handle dragging a concept\n  const handleMouseMove = e => {\n    if (!draggedConcept) return;\n    e.preventDefault();\n    const mapRect = mapRef.current.getBoundingClientRect();\n    const newX = e.clientX - mapRect.left - dragOffset.x;\n    const newY = e.clientY - mapRect.top - dragOffset.y;\n    setPositions(prev => ({\n      ...prev,\n      [draggedConcept]: {\n        x: newX,\n        y: newY\n      }\n    }));\n  };\n\n  // Handle dropping a concept\n  const handleMouseUp = () => {\n    setDraggedConcept(null);\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', handleMouseUp);\n  };\n\n  // Toggle active/inactive state of a concept when clicked\n  const handleConceptClick = index => {\n    if (draggedConcept) return; // Don't toggle if we're dragging\n\n    setActiveNodes(prev => {\n      const newActiveNodes = [...prev];\n      newActiveNodes[index] = !newActiveNodes[index];\n      return newActiveNodes;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mind-map-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mind-map\",\n      ref: mapRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"central-question-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"central-question\",\n          children: centralQuestion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), concepts.map((concept, index) => {\n        const pos = positions[`concept-${index}`] || {\n          x: 0,\n          y: 0\n        };\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"concept-container\",\n          style: {\n            transform: `translate(${pos.x}px, ${pos.y}px)`\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `connecting-line ${!activeNodes[index] ? 'inactive' : ''}`,\n            style: {\n              width: Math.sqrt(pos.x * pos.x + pos.y * pos.y),\n              transform: `rotate(${Math.atan2(pos.y, pos.x)}rad) translateX(50%)`,\n              transformOrigin: '0 50%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `concept ${!activeNodes[index] ? 'inactive' : ''} ${draggedConcept === `concept-${index}` ? 'dragging' : ''}`,\n            onMouseDown: e => handleMouseDown(e, `concept-${index}`),\n            onClick: () => handleConceptClick(index),\n            children: concept\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(MindMap, \"kuM38bTycwKhkZyLyPaVTvUtuKM=\");\n_c = MindMap;\nexport default MindMap;\nvar _c;\n$RefreshReg$(_c, \"MindMap\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","MindMap","centralQuestion","concepts","_s","positions","setPositions","draggedConcept","setDraggedConcept","dragOffset","setDragOffset","x","y","activeNodes","setActiveNodes","map","_","i","mapRef","Object","keys","length","initialPositions","handleMouseDown","e","conceptId","preventDefault","stopPropagation","rect","currentTarget","getBoundingClientRect","mapRect","current","clientX","left","clientY","top","document","addEventListener","handleMouseMove","handleMouseUp","newX","newY","prev","removeEventListener","handleConceptClick","index","newActiveNodes","className","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","concept","pos","style","transform","width","Math","sqrt","atan2","transformOrigin","onMouseDown","onClick","_c","$RefreshReg$"],"sources":["/Users/kei/AIdeator-LLM/frontend/src/components/MindMap.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport './MindMap.css';\n\nconst MindMap = ({ centralQuestion, concepts }) => {\n  const [positions, setPositions] = useState({});\n  const [draggedConcept, setDraggedConcept] = useState(null);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  const [activeNodes, setActiveNodes] = useState(concepts.map((_, i) => true));\n  const mapRef = useRef(null);\n\n  // Initialize positions to match the reference image layout\n  useEffect(() => {\n    if (Object.keys(positions).length === 0) {\n      const initialPositions = {\n        'concept-0': { x: 0, y: -150 },      // Top\n        'concept-1': { x: -300, y: 0 },      // Left\n        'concept-2': { x: 300, y: 0 },       // Right\n        'concept-3': { x: -200, y: 200 },    // Bottom Left\n        'concept-4': { x: 200, y: 200 }      // Bottom Right\n      };\n      \n      setPositions(initialPositions);\n    }\n  }, [positions]);\n\n  // Handle starting to drag a concept\n  const handleMouseDown = (e, conceptId) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    const rect = e.currentTarget.getBoundingClientRect();\n    const mapRect = mapRef.current.getBoundingClientRect();\n    \n    setDraggedConcept(conceptId);\n    setDragOffset({\n      x: e.clientX - (rect.left - mapRect.left),\n      y: e.clientY - (rect.top - mapRect.top)\n    });\n    \n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n\n  // Handle dragging a concept\n  const handleMouseMove = (e) => {\n    if (!draggedConcept) return;\n    \n    e.preventDefault();\n    const mapRect = mapRef.current.getBoundingClientRect();\n    const newX = e.clientX - mapRect.left - dragOffset.x;\n    const newY = e.clientY - mapRect.top - dragOffset.y;\n\n    setPositions(prev => ({\n      ...prev,\n      [draggedConcept]: { x: newX, y: newY }\n    }));\n  };\n\n  // Handle dropping a concept\n  const handleMouseUp = () => {\n    setDraggedConcept(null);\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', handleMouseUp);\n  };\n\n  // Toggle active/inactive state of a concept when clicked\n  const handleConceptClick = (index) => {\n    if (draggedConcept) return; // Don't toggle if we're dragging\n    \n    setActiveNodes(prev => {\n      const newActiveNodes = [...prev];\n      newActiveNodes[index] = !newActiveNodes[index];\n      return newActiveNodes;\n    });\n  };\n\n  return (\n    <div className=\"mind-map-container\">\n      <div className=\"mind-map\" ref={mapRef}>\n        {/* Main center node */}\n        <div className=\"central-question-container\">\n          <div className=\"central-question\">\n            {centralQuestion}\n          </div>\n        </div>\n        \n        {/* Create concept nodes with connecting lines */}\n        {concepts.map((concept, index) => {\n          const pos = positions[`concept-${index}`] || { x: 0, y: 0 };\n          return (\n            <div key={index} className=\"concept-container\" style={{ transform: `translate(${pos.x}px, ${pos.y}px)` }}>\n              {/* Connecting line */}\n              <div \n                className={`connecting-line ${!activeNodes[index] ? 'inactive' : ''}`} \n                style={{ \n                  width: Math.sqrt(pos.x * pos.x + pos.y * pos.y), \n                  transform: `rotate(${Math.atan2(pos.y, pos.x)}rad) translateX(50%)`,\n                  transformOrigin: '0 50%' \n                }}\n              />\n              \n              {/* Concept box */}\n              <div \n                className={`concept ${!activeNodes[index] ? 'inactive' : ''} ${draggedConcept === `concept-${index}` ? 'dragging' : ''}`}\n                onMouseDown={(e) => handleMouseDown(e, `concept-${index}`)}\n                onClick={() => handleConceptClick(index)}\n              >\n                {concept}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default MindMap; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}