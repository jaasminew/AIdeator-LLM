{"ast":null,"code":"var _jsxFileName = \"/Users/kei/AIdeator-LLM/frontend/src/components/MindMap.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './MindMap.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MindMap = ({\n  centralQuestion,\n  concepts\n}) => {\n  _s();\n  const [positions, setPositions] = useState({});\n  const [draggedConcept, setDraggedConcept] = useState(null);\n  const [dragOffset, setDragOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [activeNodes, setActiveNodes] = useState(concepts.map(() => true));\n  const mapRef = useRef(null);\n  const conceptRefs = useRef([]);\n  const centralRef = useRef(null);\n\n  // Initialize refs for concept nodes\n  useEffect(() => {\n    conceptRefs.current = Array(concepts.length).fill().map(() => /*#__PURE__*/React.createRef());\n  }, [concepts.length]);\n\n  // Initialize positions in a balanced layout\n  useEffect(() => {\n    if (Object.keys(positions).length === 0) {\n      // Positions that match the reference image exactly\n      const initialPositions = {\n        'concept-0': {\n          x: 0,\n          y: -180\n        },\n        // Top\n        'concept-1': {\n          x: -280,\n          y: 0\n        },\n        // Left\n        'concept-2': {\n          x: 280,\n          y: 0\n        },\n        // Right\n        'concept-3': {\n          x: -180,\n          y: 200\n        },\n        // Bottom Left\n        'concept-4': {\n          x: 180,\n          y: 200\n        } // Bottom Right\n      };\n      setPositions(initialPositions);\n    }\n  }, [positions]);\n\n  // Handle starting to drag a concept\n  const handleMouseDown = (e, conceptId) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const rect = e.currentTarget.getBoundingClientRect();\n    const mapRect = mapRef.current.getBoundingClientRect();\n    setDraggedConcept(conceptId);\n    setDragOffset({\n      x: e.clientX - (rect.left - mapRect.left),\n      y: e.clientY - (rect.top - mapRect.top)\n    });\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n\n  // Handle dragging a concept\n  const handleMouseMove = e => {\n    if (!draggedConcept) return;\n    e.preventDefault();\n    const mapRect = mapRef.current.getBoundingClientRect();\n    const newX = e.clientX - mapRect.left - dragOffset.x;\n    const newY = e.clientY - mapRect.top - dragOffset.y;\n    setPositions(prev => ({\n      ...prev,\n      [draggedConcept]: {\n        x: newX,\n        y: newY\n      }\n    }));\n  };\n\n  // Handle dropping a concept\n  const handleMouseUp = () => {\n    setDraggedConcept(null);\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', handleMouseUp);\n  };\n\n  // Render connection lines between central node and concepts\n  const renderConnections = () => {\n    var _mapRef$current, _centralRef$current;\n    const mapRect = (_mapRef$current = mapRef.current) === null || _mapRef$current === void 0 ? void 0 : _mapRef$current.getBoundingClientRect();\n    const centralRect = (_centralRef$current = centralRef.current) === null || _centralRef$current === void 0 ? void 0 : _centralRef$current.getBoundingClientRect();\n    if (!mapRect || !centralRect) return null;\n\n    // The exact center of the central question box\n    const centerX = mapRect.width / 2;\n    const centerY = mapRect.height / 2;\n    return concepts.map((_, index) => {\n      const pos = positions[`concept-${index}`];\n      if (!pos) return null;\n\n      // Calculate the exact center position of the concept\n      const conceptCenterX = centerX + pos.x;\n      const conceptCenterY = centerY + pos.y;\n      return /*#__PURE__*/_jsxDEV(\"line\", {\n        x1: centerX,\n        y1: centerY,\n        x2: conceptCenterX,\n        y2: conceptCenterY,\n        className: activeNodes[index] ? 'connection' : 'connection inactive'\n      }, `line-${index}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mind-map-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mind-map\",\n      ref: mapRef,\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"connections\",\n        children: mapRef.current && centralRef.current && renderConnections()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"central-question\",\n        ref: centralRef,\n        children: centralQuestion\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), concepts.map((concept, index) => {\n        const pos = positions[`concept-${index}`] || {\n          x: 0,\n          y: 0\n        };\n        const isDragging = draggedConcept === `concept-${index}`;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `concept ${!activeNodes[index] ? 'inactive' : ''} ${isDragging ? 'dragging' : ''}`,\n          style: {\n            top: `calc(50% + ${pos.y}px)`,\n            left: `calc(50% + ${pos.x}px)`,\n            transform: 'translate(-50%, -50%)',\n            cursor: isDragging ? 'grabbing' : 'grab'\n          },\n          ref: conceptRefs.current[index],\n          onMouseDown: e => handleMouseDown(e, `concept-${index}`),\n          children: concept\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n};\n_s(MindMap, \"HhNeysjjgdTi+O0yMWaYgLbmegk=\");\n_c = MindMap;\nexport default MindMap;\nvar _c;\n$RefreshReg$(_c, \"MindMap\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","MindMap","centralQuestion","concepts","_s","positions","setPositions","draggedConcept","setDraggedConcept","dragOffset","setDragOffset","x","y","activeNodes","setActiveNodes","map","mapRef","conceptRefs","centralRef","current","Array","length","fill","createRef","Object","keys","initialPositions","handleMouseDown","e","conceptId","preventDefault","stopPropagation","rect","currentTarget","getBoundingClientRect","mapRect","clientX","left","clientY","top","document","addEventListener","handleMouseMove","handleMouseUp","newX","newY","prev","removeEventListener","renderConnections","_mapRef$current","_centralRef$current","centralRect","centerX","width","centerY","height","_","index","pos","conceptCenterX","conceptCenterY","x1","y1","x2","y2","className","fileName","_jsxFileName","lineNumber","columnNumber","children","ref","concept","isDragging","style","transform","cursor","onMouseDown","_c","$RefreshReg$"],"sources":["/Users/kei/AIdeator-LLM/frontend/src/components/MindMap.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './MindMap.css';\n\nconst MindMap = ({ centralQuestion, concepts }) => {\n  const [positions, setPositions] = useState({});\n  const [draggedConcept, setDraggedConcept] = useState(null);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  const [activeNodes, setActiveNodes] = useState(concepts.map(() => true));\n  const mapRef = useRef(null);\n  const conceptRefs = useRef([]);\n  const centralRef = useRef(null);\n\n  // Initialize refs for concept nodes\n  useEffect(() => {\n    conceptRefs.current = Array(concepts.length).fill().map(() => React.createRef());\n  }, [concepts.length]);\n\n  // Initialize positions in a balanced layout\n  useEffect(() => {\n    if (Object.keys(positions).length === 0) {\n      // Positions that match the reference image exactly\n      const initialPositions = {\n        'concept-0': { x: 0, y: -180 },      // Top\n        'concept-1': { x: -280, y: 0 },      // Left\n        'concept-2': { x: 280, y: 0 },       // Right\n        'concept-3': { x: -180, y: 200 },    // Bottom Left\n        'concept-4': { x: 180, y: 200 }      // Bottom Right\n      };\n      \n      setPositions(initialPositions);\n    }\n  }, [positions]);\n\n  // Handle starting to drag a concept\n  const handleMouseDown = (e, conceptId) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    const rect = e.currentTarget.getBoundingClientRect();\n    const mapRect = mapRef.current.getBoundingClientRect();\n    \n    setDraggedConcept(conceptId);\n    setDragOffset({\n      x: e.clientX - (rect.left - mapRect.left),\n      y: e.clientY - (rect.top - mapRect.top)\n    });\n    \n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n\n  // Handle dragging a concept\n  const handleMouseMove = (e) => {\n    if (!draggedConcept) return;\n    \n    e.preventDefault();\n    const mapRect = mapRef.current.getBoundingClientRect();\n    const newX = e.clientX - mapRect.left - dragOffset.x;\n    const newY = e.clientY - mapRect.top - dragOffset.y;\n\n    setPositions(prev => ({\n      ...prev,\n      [draggedConcept]: { x: newX, y: newY }\n    }));\n  };\n\n  // Handle dropping a concept\n  const handleMouseUp = () => {\n    setDraggedConcept(null);\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', handleMouseUp);\n  };\n\n  // Render connection lines between central node and concepts\n  const renderConnections = () => {\n    const mapRect = mapRef.current?.getBoundingClientRect();\n    const centralRect = centralRef.current?.getBoundingClientRect();\n    \n    if (!mapRect || !centralRect) return null;\n    \n    // The exact center of the central question box\n    const centerX = mapRect.width / 2;\n    const centerY = mapRect.height / 2;\n    \n    return concepts.map((_, index) => {\n      const pos = positions[`concept-${index}`];\n      if (!pos) return null;\n      \n      // Calculate the exact center position of the concept\n      const conceptCenterX = centerX + pos.x;\n      const conceptCenterY = centerY + pos.y;\n      \n      return (\n        <line\n          key={`line-${index}`}\n          x1={centerX}\n          y1={centerY}\n          x2={conceptCenterX}\n          y2={conceptCenterY}\n          className={activeNodes[index] ? 'connection' : 'connection inactive'}\n        />\n      );\n    });\n  };\n\n  return (\n    <div className=\"mind-map-container\">\n      <div className=\"mind-map\" ref={mapRef}>\n        {/* SVG for the connections between nodes */}\n        <svg className=\"connections\">\n          {mapRef.current && centralRef.current && renderConnections()}\n        </svg>\n        \n        {/* Central Question Node */}\n        <div className=\"central-question\" ref={centralRef}>\n          {centralQuestion}\n        </div>\n        \n        {/* Concept Nodes */}\n        {concepts.map((concept, index) => {\n          const pos = positions[`concept-${index}`] || { x: 0, y: 0 };\n          const isDragging = draggedConcept === `concept-${index}`;\n          \n          return (\n            <div\n              key={index}\n              className={`concept ${!activeNodes[index] ? 'inactive' : ''} ${isDragging ? 'dragging' : ''}`}\n              style={{\n                top: `calc(50% + ${pos.y}px)`,\n                left: `calc(50% + ${pos.x}px)`,\n                transform: 'translate(-50%, -50%)',\n                cursor: isDragging ? 'grabbing' : 'grab'\n              }}\n              ref={conceptRefs.current[index]}\n              onMouseDown={(e) => handleMouseDown(e, `concept-${index}`)}\n            >\n              {concept}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default MindMap; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}